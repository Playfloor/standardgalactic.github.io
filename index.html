<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Starfield</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <script>
        let canvas = document.createElement("canvas");
        let context = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        document.body.appendChild(canvas);

        let spaceship = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            speed: 5
        };

        let stars = [];
        for (let i = 0; i < 1000; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 3,
                speed: Math.random() * 0.5 + 0.1
            });
        }

        let controls = {
            forward: false,
            backward: false,
            leftRotate: false,
            rightRotate: false,
            up: false,
            down: false,
            leftView: false,
            rightView: false,
            upView: false,
            downView: false
        };

        function draw() {
            context.fillStyle = "#000000";
            context.fillRect(0, 0, canvas.width, canvas.height);

            context.fillStyle = "#ffffff";
            for (let star of stars) {
                context.beginPath();
                context.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                context.closePath();
                context.fill();
            }
        }

        function update() {
            let moveFactor = controls.forward ? 1 : controls.backward ? -1 : 0;
            let rotateFactor = controls.rightRotate ? 1 : controls.leftRotate ? -1 : 0;
            let viewXFactor = controls.rightView ? 1 : controls.leftView ? -1 : 0;
            let viewYFactor = controls.upView ? 1 : controls.downView ? -1 : 0;

            for (let star of stars) {
                star.y += star.speed * moveFactor;
                star.x += star.speed * rotateFactor;

                star.x += star.speed * viewXFactor * 0.5;
                star.y += star.speed * viewYFactor * 0.5;

                if (star.x < 0 || star.x > canvas.width || star.y < 0 || star.y > canvas.height) {
                    star.x = Math.random() * canvas.width;
                    star.y = Math.random() * canvas.height;
                    star.size = Math.random() * 3;
                }
            }
        }

        document.addEventListener("keydown", function(event) {
            switch (event.key) {
                case 'w':
                    controls.forward = true;
                    break;
                case 's':
                    controls.backward = true;
                    break;
                case 'q':
                    controls.leftRotate = true;
                    break;
                case 'e':
                    controls.rightRotate = true;
                    break;
                case 'r':
                    controls.up = true;
                    break;
                case 'f':
                    controls.down = true;
                    break;
                case 'h':
                    controls.leftView = true;
                    break;
                case 'j':
                    controls.downView = true;
                    break;
                case 'k':
                    controls.upView = true;
                    break;
                case 'l':
                    controls.rightView = true;
                    break;
            }
        });

        document.addEventListener("keyup", function(event) {
            switch (event.key) {
                case 'w':
                    controls.forward = false;
                    break;
                case 's':
                    controls.backward = false;
                    break;
                case 'q':
                    controls.leftRotate = false;
                    break;
                case 'e':
                    controls.rightRotate = false;
                    break;
                case 'r':
                    controls.up = false;
                    break;
                case 'f':
                    controls.down = false;
                    break;
                case 'h':
                    controls.leftView = false;
                    break;
                case 'j':
                    controls.downView = false;
                    break;
                case 'k':
                    controls.upView = false;
                    break;
                case 'l':
                    controls.rightView = false;
                    break;
            }
        });

        function loop() {
            update();
            draw();
            requestAnimationFrame(loop);
        }

        loop();

    </script>
</body>

</html>
